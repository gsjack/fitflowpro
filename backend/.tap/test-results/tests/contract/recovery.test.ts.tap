TAP version 14
# Subtest: POST /api/recovery-assessments - Contract Tests
{"level":30,"time":1759428137462,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-1","req":{"method":"POST","url":"/api/auth/register","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
{"level":30,"time":1759428137862,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-1","res":{"statusCode":201},"responseTime":397.68584200000623,"msg":"request completed"}
    # Subtest: should return 401 when no JWT token provided
        ok 1 - returns 401 Unauthorized
        1..1
    ok 1 - should return 401 when no JWT token provided # time=9.543ms
    
{"level":30,"time":1759428137864,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-2","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
{"level":30,"time":1759428137868,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-2","res":{"statusCode":401},"responseTime":3.828181000018958,"msg":"request completed"}
{"level":30,"time":1759428137876,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-3","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
    # Subtest: should validate request schema - all fields required
        ok 1 - returns 400 Bad Request for missing fields
        1..1
    ok 2 - should validate request schema - all fields required # time=4.353ms
    
{"level":30,"time":1759428137877,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-3","res":{"statusCode":400},"err":{"type":"Error","message":"body must have required property 'sleep_quality'","stack":"Error: body must have required property 'sleep_quality'\n    at defaultSchemaErrorFormatter (/home/asigator/fitness2025/backend/node_modules/fastify/lib/context.js:114:10)\n    at wrapValidationError (/home/asigator/fitness2025/backend/node_modules/fastify/lib/validation.js:249:17)\n    at validate (/home/asigator/fitness2025/backend/node_modules/fastify/lib/validation.js:167:16)\n    at preValidationCallback (/home/asigator/fitness2025/backend/node_modules/fastify/lib/handleRequest.js:93:25)\n    at handler (/home/asigator/fitness2025/backend/node_modules/fastify/lib/handleRequest.js:77:7)\n    at /home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:199:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at done (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:192:14)\n    at Parser.defaultJsonParser [as fn] (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:304:5)\n    at Request.onEnd (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:283:27)","statusCode":400,"code":"FST_ERR_VALIDATION","validation":[{"instancePath":"","schemaPath":"#/required","keyword":"required","params":{"missingProperty":"sleep_quality"},"message":"must have required property 'sleep_quality'"}],"validationContext":"body"},"msg":"body must have required property 'sleep_quality'"}
{"level":30,"time":1759428137879,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-3","res":{"statusCode":400},"responseTime":3.062893000023905,"msg":"request completed"}
{"level":30,"time":1759428137882,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-4","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
    # Subtest: should validate sleep_quality range (1-5)
        ok 1 - returns 400 for sleep_quality > 5
        1..1
    ok 3 - should validate sleep_quality range (1-5) # time=2.53ms
    
{"level":30,"time":1759428137882,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-4","res":{"statusCode":400},"err":{"type":"Error","message":"body/sleep_quality must be <= 5","stack":"Error: body/sleep_quality must be <= 5\n    at defaultSchemaErrorFormatter (/home/asigator/fitness2025/backend/node_modules/fastify/lib/context.js:114:10)\n    at wrapValidationError (/home/asigator/fitness2025/backend/node_modules/fastify/lib/validation.js:249:17)\n    at validate (/home/asigator/fitness2025/backend/node_modules/fastify/lib/validation.js:167:16)\n    at preValidationCallback (/home/asigator/fitness2025/backend/node_modules/fastify/lib/handleRequest.js:93:25)\n    at handler (/home/asigator/fitness2025/backend/node_modules/fastify/lib/handleRequest.js:77:7)\n    at /home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:199:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at done (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:192:14)\n    at Parser.defaultJsonParser [as fn] (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:304:5)\n    at Request.onEnd (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:283:27)","statusCode":400,"code":"FST_ERR_VALIDATION","validation":[{"instancePath":"/sleep_quality","schemaPath":"#/properties/sleep_quality/maximum","keyword":"maximum","params":{"comparison":"<=","limit":5},"message":"must be <= 5"}],"validationContext":"body"},"msg":"body/sleep_quality must be <= 5"}
{"level":30,"time":1759428137883,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-4","res":{"statusCode":400},"responseTime":1.1644400000222959,"msg":"request completed"}
{"level":30,"time":1759428137885,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-5","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
    # Subtest: should validate muscle_soreness range (1-5)
        ok 1 - returns 400 for muscle_soreness < 1
        1..1
    ok 4 - should validate muscle_soreness range (1-5) # time=1.986ms
    
{"level":30,"time":1759428137886,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-5","res":{"statusCode":400},"err":{"type":"Error","message":"body/muscle_soreness must be >= 1","stack":"Error: body/muscle_soreness must be >= 1\n    at defaultSchemaErrorFormatter (/home/asigator/fitness2025/backend/node_modules/fastify/lib/context.js:114:10)\n    at wrapValidationError (/home/asigator/fitness2025/backend/node_modules/fastify/lib/validation.js:249:17)\n    at validate (/home/asigator/fitness2025/backend/node_modules/fastify/lib/validation.js:167:16)\n    at preValidationCallback (/home/asigator/fitness2025/backend/node_modules/fastify/lib/handleRequest.js:93:25)\n    at handler (/home/asigator/fitness2025/backend/node_modules/fastify/lib/handleRequest.js:77:7)\n    at /home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:199:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at done (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:192:14)\n    at Parser.defaultJsonParser [as fn] (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:304:5)\n    at Request.onEnd (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:283:27)","statusCode":400,"code":"FST_ERR_VALIDATION","validation":[{"instancePath":"/muscle_soreness","schemaPath":"#/properties/muscle_soreness/minimum","keyword":"minimum","params":{"comparison":">=","limit":1},"message":"must be >= 1"}],"validationContext":"body"},"msg":"body/muscle_soreness must be >= 1"}
{"level":30,"time":1759428137886,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-5","res":{"statusCode":400},"responseTime":0.8984780000173487,"msg":"request completed"}
{"level":30,"time":1759428137888,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-6","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
    # Subtest: should validate mental_motivation range (1-5)
        ok 1 - returns 400 for mental_motivation > 5
        1..1
    ok 5 - should validate mental_motivation range (1-5) # time=1.862ms
    
{"level":30,"time":1759428137888,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-6","res":{"statusCode":400},"err":{"type":"Error","message":"body/mental_motivation must be <= 5","stack":"Error: body/mental_motivation must be <= 5\n    at defaultSchemaErrorFormatter (/home/asigator/fitness2025/backend/node_modules/fastify/lib/context.js:114:10)\n    at wrapValidationError (/home/asigator/fitness2025/backend/node_modules/fastify/lib/validation.js:249:17)\n    at validate (/home/asigator/fitness2025/backend/node_modules/fastify/lib/validation.js:167:16)\n    at preValidationCallback (/home/asigator/fitness2025/backend/node_modules/fastify/lib/handleRequest.js:93:25)\n    at handler (/home/asigator/fitness2025/backend/node_modules/fastify/lib/handleRequest.js:77:7)\n    at /home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:199:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at done (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:192:14)\n    at Parser.defaultJsonParser [as fn] (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:304:5)\n    at Request.onEnd (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:283:27)","statusCode":400,"code":"FST_ERR_VALIDATION","validation":[{"instancePath":"/mental_motivation","schemaPath":"#/properties/mental_motivation/maximum","keyword":"maximum","params":{"comparison":"<=","limit":5},"message":"must be <= 5"}],"validationContext":"body"},"msg":"body/mental_motivation must be <= 5"}
{"level":30,"time":1759428137889,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-6","res":{"statusCode":400},"responseTime":0.7957919999607839,"msg":"request completed"}
{"level":30,"time":1759428137891,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-7","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=12 (sleep=4, soreness=3, motivation=5), adjustment=none
    # Subtest: should create recovery assessment with valid data
        ok 1 - returns 201 Created
        ok 2 - response includes total_score
        ok 3 - total_score = 4 + 3 + 5 = 12
        ok 4 - response includes volume_adjustment
        ok 5 - volume_adjustment is a string
        1..5
    ok 6 - should create recovery assessment with valid data # time=8.125ms
    
{"level":30,"time":1759428137896,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-7","res":{"statusCode":201},"responseTime":5.377812000049744,"msg":"request completed"}
{"level":30,"time":1759428137900,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-8","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=9 (sleep=3, soreness=3, motivation=3), adjustment=reduce_1_set
    # Subtest: should return response schema with correct fields
        ok 1 - returns 201 Created
        ok 2 - response has total_score property
        ok 3 - response has volume_adjustment property
        ok 4 - total_score is a number
        ok 5 - total_score in range 3-15
        1..5
    ok 7 - should return response schema with correct fields # time=3.953ms
    
{"level":30,"time":1759428137902,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-8","res":{"statusCode":201},"responseTime":1.5165430000051856,"msg":"request completed"}
{"level":30,"time":1759428137905,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-9","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=15 (sleep=5, soreness=5, motivation=5), adjustment=none
    # Subtest: should apply auto-regulation logic: score 12-15 → no adjustment
        ok 1 - returns 201 Created
        ok 2 - total_score = 5 + 5 + 5 = 15
        ok 3 - volume_adjustment is "none" for score 15
        1..3
    ok 8 - should apply auto-regulation logic: score 12-15 → no adjustment # time=2.967ms
    
{"level":30,"time":1759428137907,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-9","res":{"statusCode":201},"responseTime":1.1770740000065416,"msg":"request completed"}
{"level":30,"time":1759428137910,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-a","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=10 (sleep=3, soreness=3, motivation=4), adjustment=reduce_1_set
    # Subtest: should apply auto-regulation logic: score 9-11 → reduce_1_set
        ok 1 - returns 201 Created
        ok 2 - total_score = 3 + 3 + 4 = 10
        ok 3 - volume_adjustment is "reduce_1_set" for score 10
        1..3
    ok 9 - should apply auto-regulation logic: score 9-11 → reduce_1_set # time=2.718ms
    
{"level":30,"time":1759428137911,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-a","res":{"statusCode":201},"responseTime":1.1114569999626838,"msg":"request completed"}
{"level":30,"time":1759428137914,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-b","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=8 (sleep=2, soreness=3, motivation=3), adjustment=reduce_2_sets
    # Subtest: should apply auto-regulation logic: score 6-8 → reduce_2_sets (FR-009)
        ok 1 - returns 201 Created
        ok 2 - total_score = 2 + 3 + 3 = 8
        ok 3 - volume_adjustment is "reduce_2_sets" for score 8 (per FR-009)
        1..3
    ok 10 - should apply auto-regulation logic: score 6-8 → reduce_2_sets (FR-009) # time=3.195ms
    
{"level":30,"time":1759428137915,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-b","res":{"statusCode":201},"responseTime":1.4271209999569692,"msg":"request completed"}
{"level":30,"time":1759428137918,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-c","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=4 (sleep=1, soreness=1, motivation=2), adjustment=rest_day
    # Subtest: should apply auto-regulation logic: score 3-5 → rest_day
        ok 1 - returns 201 Created
        ok 2 - total_score = 1 + 1 + 2 = 4
        ok 3 - volume_adjustment is "rest_day" for score 4
        1..3
    ok 11 - should apply auto-regulation logic: score 3-5 → rest_day # time=3.2ms
    
{"level":30,"time":1759428137920,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-c","res":{"statusCode":201},"responseTime":1.3229700000374578,"msg":"request completed"}
{"level":30,"time":1759428137922,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-d","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=9 (sleep=3, soreness=3, motivation=3), adjustment=reduce_1_set
    # Subtest: should validate volume_adjustment enum values
        ok 1 - returns 201 Created
        ok 2 - volume_adjustment is one of the valid enum values
        1..2
    ok 12 - should validate volume_adjustment enum values # time=2.998ms
    
{"level":30,"time":1759428137924,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-d","res":{"statusCode":201},"responseTime":1.2189590000198223,"msg":"request completed"}
{"level":30,"time":1759428137927,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-e","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
    # Subtest: should validate date format
        ok 1 - returns 400 for invalid date format
        1..1
    ok 13 - should validate date format # time=2.16ms
    
{"level":30,"time":1759428137927,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-e","res":{"statusCode":400},"err":{"type":"Error","message":"body/date must match pattern \"^\\d{4}-\\d{2}-\\d{2}$\"","stack":"Error: body/date must match pattern \"^\\d{4}-\\d{2}-\\d{2}$\"\n    at defaultSchemaErrorFormatter (/home/asigator/fitness2025/backend/node_modules/fastify/lib/context.js:114:10)\n    at wrapValidationError (/home/asigator/fitness2025/backend/node_modules/fastify/lib/validation.js:249:17)\n    at validate (/home/asigator/fitness2025/backend/node_modules/fastify/lib/validation.js:167:16)\n    at preValidationCallback (/home/asigator/fitness2025/backend/node_modules/fastify/lib/handleRequest.js:93:25)\n    at handler (/home/asigator/fitness2025/backend/node_modules/fastify/lib/handleRequest.js:77:7)\n    at /home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:199:9\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at done (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:192:14)\n    at Parser.defaultJsonParser [as fn] (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:304:5)\n    at Request.onEnd (/home/asigator/fitness2025/backend/node_modules/fastify/lib/contentTypeParser.js:283:27)","statusCode":400,"code":"FST_ERR_VALIDATION","validation":[{"instancePath":"/date","schemaPath":"#/properties/date/pattern","keyword":"pattern","params":{"pattern":"^\\d{4}-\\d{2}-\\d{2}$"},"message":"must match pattern \"^\\d{4}-\\d{2}-\\d{2}$\""}],"validationContext":"body"},"msg":"body/date must match pattern \"^\\d{4}-\\d{2}-\\d{2}$\""}
{"level":30,"time":1759428137928,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-e","res":{"statusCode":400},"responseTime":0.9281450000125915,"msg":"request completed"}
{"level":30,"time":1759428137930,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-f","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=3 (sleep=1, soreness=1, motivation=1), adjustment=rest_day
    # Subtest: should calculate edge case: minimum score (3)
        ok 1 - returns 201 Created
        ok 2 - total_score = 1 + 1 + 1 = 3 (minimum)
        ok 3 - volume_adjustment is "rest_day" for minimum score
        1..3
    ok 14 - should calculate edge case: minimum score (3) # time=3.168ms
    
{"level":30,"time":1759428137932,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-f","res":{"statusCode":201},"responseTime":1.4225839999853633,"msg":"request completed"}
{"level":30,"time":1759428137935,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-g","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=12 (sleep=4, soreness=4, motivation=4), adjustment=none
    # Subtest: should calculate boundary: score 12 → no adjustment
        ok 1 - returns 201 Created
        ok 2 - total_score = 4 + 4 + 4 = 12
        ok 3 - volume_adjustment is "none" for score 12 (boundary)
        1..3
    ok 15 - should calculate boundary: score 12 → no adjustment # time=3.869ms
    
{"level":30,"time":1759428137937,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-g","res":{"statusCode":201},"responseTime":1.6021259999834,"msg":"request completed"}
{"level":30,"time":1759428137940,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-h","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=11 (sleep=4, soreness=4, motivation=3), adjustment=reduce_1_set
    # Subtest: should calculate boundary: score 11 → reduce_1_set
        ok 1 - returns 201 Created
        ok 2 - total_score = 4 + 4 + 3 = 11
        ok 3 - volume_adjustment is "reduce_1_set" for score 11 (boundary)
        1..3
    ok 16 - should calculate boundary: score 11 → reduce_1_set # time=2.923ms
    
{"level":30,"time":1759428137941,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-h","res":{"statusCode":201},"responseTime":1.2514879999798723,"msg":"request completed"}
{"level":30,"time":1759428137944,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-i","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=9 (sleep=3, soreness=3, motivation=3), adjustment=reduce_1_set
    # Subtest: should calculate boundary: score 9 → reduce_1_set
        ok 1 - returns 201 Created
        ok 2 - total_score = 3 + 3 + 3 = 9
        ok 3 - volume_adjustment is "reduce_1_set" for score 9 (boundary)
        1..3
    ok 17 - should calculate boundary: score 9 → reduce_1_set # time=2.594ms
    
{"level":30,"time":1759428137945,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-i","res":{"statusCode":201},"responseTime":1.1365869999863207,"msg":"request completed"}
{"level":30,"time":1759428137947,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-j","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=6 (sleep=2, soreness=2, motivation=2), adjustment=reduce_2_sets
    # Subtest: should calculate boundary: score 6 → reduce_2_sets
        ok 1 - returns 201 Created
        ok 2 - total_score = 2 + 2 + 2 = 6
        ok 3 - volume_adjustment is "reduce_2_sets" for score 6 (boundary)
        1..3
    ok 18 - should calculate boundary: score 6 → reduce_2_sets # time=2.828ms
    
{"level":30,"time":1759428137948,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-j","res":{"statusCode":201},"responseTime":1.1869169999845326,"msg":"request completed"}
{"level":30,"time":1759428137951,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-k","req":{"method":"POST","url":"/api/recovery-assessments","hostname":"localhost:80","remoteAddress":"127.0.0.1"},"msg":"incoming request"}
Recovery assessment created: user=140, date=2025-10-02, score=5 (sleep=2, soreness=2, motivation=1), adjustment=rest_day
    # Subtest: should calculate boundary: score 5 → rest_day
        ok 1 - returns 201 Created
        ok 2 - total_score = 2 + 2 + 1 = 5
        ok 3 - volume_adjustment is "rest_day" for score 5 (boundary)
        1..3
    ok 19 - should calculate boundary: score 5 → rest_day # time=3.446ms
    
    1..19
ok 1 - POST /api/recovery-assessments - Contract Tests # time=773.41ms

{"level":30,"time":1759428137952,"pid":6709,"hostname":"asigator-Legion-5-17ACH6H","reqId":"req-k","res":{"statusCode":201},"responseTime":1.3004929999588057,"msg":"request completed"}
1..1
Database connection closed
